<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stories</title>
    <link rel="stylesheet" href="{% static 'myNewsApp/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'myNewsApp/style.css' %}">
</head>
<body>
<div class = "navBar">
    <div class = "itemContainer">
        <div><a href = "/">Home</a></div>
        <div><a href = "source_listing">Sources</a></div>
        <div><a href="sourcing">Add Source</a> </div>
        <div><a href="addstory">Add Story</a> </div>
        <form class="makeRight2 d-flex" role="search" action="search_story" method = "get">
        <input class="form-control me-2" name = "search_name" type="text" placeholder="Search...">
          <input type="Submit" value = "Search">
      </form>
    </div>
</div>
    <ul style="display:block">
        {% for fetchStory in stories %}
        <a href="{{fetchStory.url}}"><li>{{fetchStory.title}}<br></li></a><p>{{fetchStory.body_text}}<br><span class="badge bg-secondary mx-3">{{fetchStory.source}}</span>
        <span class="makeRight1 badge text-bg-danger"><a href="storyDelete/{{fetchStory.id}}">Delete</a></span>
        <span class="makeRight2 badge text-bg-dark"><a href="editStories/{{fetchStory.id}}">Edit</a></span>
            {% for product in fetchStory.tagged_company.all %}
            <span class="badge bg-info">{{ product.company_name }}</span>
            {% endfor %}
         <span class="badge text-bg-warning">{{fetchStory.pub_date}}</span>
        </p>
        <hr>
        {% endfor %}
    </ul>
   <small>You have {{storyCount}} stories available</small>
<div><button type="button" onclick="window.location.href='http://127.0.0.1:8000/stories_listing'">View all stories</button></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>